{
  "name": "ComingSoon",
  "displayName": "Coming Soon",
  "description": "Coming Soon website.",
  "author": "The Orchard Team",
  "website": "http://orchardproject.net",
  "version": "2.0",
  "issetuprecipe": true,
  "categories": [ "default" ],
  "tags": [ "comingsoon" ],

  // The variables are evaluated the first time they are accessed, and reused across steps
  "variables": {
    "comingSoonContentItemId": "[js:uuid()]"
    // "now": "[js: new Date().toISOString()]"
  },

  "steps": [
    {
      "name": "Feature",
      "disable": [
      ],
      "enable": [
        "OrchardCore.Settings",
        "OrchardCore.Admin",
        "OrchardCore.Liquid",
        "OrchardCore.Contents",
        "OrchardCore.ContentTypes",
        "OrchardCore.Alias",
        "OrchardCore.Autoroute",
        "OrchardCore.ContentFields",
        "OrchardCore.ContentPreview",
        "OrchardCore.Deployment",
        "OrchardCore.Diagnostics",
        "OrchardCore.DynamicCache",
        "OrchardCore.Resources",
        "OrchardCore.Features",
        "OrchardCore.Widgets",
        "OrchardCore.Flows",
        "OrchardCore.Forms",
        "OrchardCore.HomeRoute",
        "OrchardCore.Html",
        "OrchardCore.Scripting",
        "OrchardCore.Localization",
        "OrchardCore.Title",
        "OrchardCore.Navigation",
        "OrchardCore.Roles",
        "OrchardCore.Users",
        "OrchardCore.Recipes",
        "OrchardCore.Templates",
        "OrchardCore.Tenants",
        "OrchardCore.Themes",
        "OrchardCore.Workflows",
        "OrchardCore.Workflows.Http",
        "SafeMode",
        "TheAdmin",
        "TheComingSoonTheme",
        "TheTheme"
      ]
    },
    {
      "name": "themes",
      "admin": "TheAdmin",
      "site": "TheComingSoonTheme"
    },
    {
      "name": "settings",
      "HomeRoute": {
        "Action": "Display",
        "Controller": "Item",
        "Area": "OrchardCore.Contents",
        "ContentItemId": "[js: variables('comingSoonContentItemId')]"
      }
    },
    {
      "name": "content",
      "data": [
        {
          "ContentItemId": "[js: variables('comingSoonContentItemId')]",
          "ContentItemVersionId": "40tmdwxagnqmsvqkttcntdcacx",
          "ContentType": "ComingSoon",
          "Latest": true,
          "Published": true,
          "ModifiedUtc": "2018-09-02T08:10:45.2483339Z",
          "PublishedUtc": "2018-09-02T08:10:45.2978167Z",
          "CreatedUtc": "2018-09-01T07:52:30.4061707Z",
          "Owner": "admin",
          "Author": "admin",
          "ComingSoon": {},
          "AutoroutePart": {
            "Path": null,
            "SetHomepage": true
          },
          "TitlePart": {
            "Title": "Coming Soon!"
          },
          "HtmlBodyPart": {
            "Html": "<p class=\"mb-5\">We're working hard to finish the development of this site. Our target launch date is\r\n                <strong>January 2019</strong>! Sign up for updates using the form below!</p>\r\n<div class=\"input-group input-group-newsletter\">\r\n                <input class=\"form-control\" aria-describedby=\"basic-addon\" aria-label=\"Enter email...\" type=\"email\" placeholder=\"Enter email...\">\r\n                <div class=\"input-group-append\">\r\n                  <button class=\"btn btn-secondary\" type=\"button\">Notify Me!</button>\r\n                </div>\r\n              </div>"
          },
          "SocialIcons": {
            "ContentItems": [
              {
                "Id": 0,
                "ContentItemId": "4j3y0d8mjzf3bwcxagyx5t32wj",
                "ContentItemVersionId": null,
                "ContentType": "SocialIcon",
                "Latest": false,
                "Published": false,
                "ModifiedUtc": "2018-09-02T08:10:45.2533978Z",
                "PublishedUtc": null,
                "CreatedUtc": null,
                "Owner": null,
                "Author": "admin",
                "SocialIcon": {
                  "IconClass": {
                    "Text": "fa fa-twitter"
                  },
                  "Link": {
                    "Url": "https://twitter.com",
                    "Text": "Twitter"
                  }
                },
                "TitlePart": {
                  "Title": "Twitter"
                }
              },
              {
                "Id": 0,
                "ContentItemId": "49dayfqvbw9jt45mwk2dve5a5f",
                "ContentItemVersionId": null,
                "ContentType": "SocialIcon",
                "Latest": false,
                "Published": false,
                "ModifiedUtc": "2018-09-02T08:10:45.2588874Z",
                "PublishedUtc": null,
                "CreatedUtc": null,
                "Owner": null,
                "Author": "admin",
                "SocialIcon": {
                  "IconClass": {
                    "Text": "fa fa-facebook"
                  },
                  "Link": {
                    "Url": "https://facebook.com",
                    "Text": "Facebook"
                  }
                },
                "TitlePart": {
                  "Title": "Facebook"
                }
              },
              {
                "Id": 0,
                "ContentItemId": "42hsmhmf93n6s7he3abm6b5146",
                "ContentItemVersionId": null,
                "ContentType": "SocialIcon",
                "Latest": false,
                "Published": false,
                "ModifiedUtc": "2018-09-02T08:10:45.2644225Z",
                "PublishedUtc": null,
                "CreatedUtc": null,
                "Owner": null,
                "Author": "admin",
                "SocialIcon": {
                  "IconClass": {
                    "Text": "fa fa-instagram"
                  },
                  "Link": {
                    "Url": "https://instagram.com",
                    "Text": "Instagram"
                  }
                },
                "TitlePart": {
                  "Title": "Instagram"
                }
              }
            ]
          }
        }
      ]
    },
    {
      "name": "ContentDefinition",
      "ContentTypes": [
        {
          "Name": "ComingSoon",
          "DisplayName": "Coming Soon",
          "Settings": {
            "Creatable": "True",
            "Draftable": "True",
            "Versionable": "True",
            "Listable": "True",
            "Securable": "True",
            "Stereotype": null
          },
          "ContentTypePartDefinitionRecords": [
            {
              "PartName": "ComingSoon",
              "Name": "ComingSoon",
              "Settings": {
                "Position": "3"
              }
            },
            {
              "PartName": "AutoroutePart",
              "Name": "AutoroutePart",
              "Settings": {
                "Position": "1",
                "Pattern": null,
                "AllowCustomPath": "False",
                "ShowHomepageOption": "True"
              }
            },
            {
              "PartName": "TitlePart",
              "Name": "TitlePart",
              "Settings": {
                "Position": "0"
              }
            },
            {
              "PartName": "HtmlBodyPart",
              "Name": "HtmlBodyPart",
              "Settings": {
                "Position": "2"
              }
            },
            {
              "PartName": "BagPart",
              "Name": "SocialIcons",
              "Settings": {
                "DisplayName": "Social Icons",
                "Description": "The list of social icons to display in the Coming Soon page",
                "Position": "4",
                "ContainedContentTypes": [
                  "SocialIcon"
                ],
                "DisplayType": null
              }
            }
          ]
        },
        {
          "Name": "SocialIcon",
          "DisplayName": "Social Icon",
          "Settings": {
            "Creatable": "False",
            "Draftable": "False",
            "Versionable": "False",
            "Listable": "False",
            "Securable": "False",
            "Stereotype": null
          },
          "ContentTypePartDefinitionRecords": [
            {
              "PartName": "SocialIcon",
              "Name": "SocialIcon",
              "Settings": {
                "Position": "0"
              }
            }
          ]
        }
      ],
      "ContentParts": [
        {
          "Name": "SocialIcon",
          "Settings": {},
          "ContentPartFieldDefinitionRecords": [
            {
              "FieldName": "TextField",
              "Name": "IconClass",
              "Settings": {
                "DisplayName": "Icon Class",
                "Editor": null,
                "Hint": "The icon class to use",
                "Position": "0"
              }
            },
            {
              "FieldName": "LinkField",
              "Name": "Link",
              "Settings": {
                "DisplayName": "Link",
                "Editor": null,
                "Hint": null,
                "HintLinkText": null,
                "Required": false,
                "LinkTextMode": 0,
                "UrlPlaceholder": null,
                "TextPlaceholder": null,
                "DefaultUrl": null,
                "DefaultText": null,
                "Position": "1"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Templates",
      "Templates": {
        "Content__ComingSoon": {
          "Description": "Coming Soon Template",
          "Content": "[file:text('Snippets/comingsoon.liquid')]"
        }
      }
    },
    {
      "name": "WorkflowType",
      "data": [
        {
          "WorkflowTypeId": "4856b5kc0hd613crqynq4z18n5",
          "Name": "User Registration",
          "IsEnabled": true,
          "IsSingleton": false,
          "DeleteFinishedWorkflows": false,
          "Activities": [
            {
              "ActivityId": "426zsv4abp93qv40cyqpkskpnc",
              "Name": "HttpRequestEvent",
              "X": 0,
              "Y": 0,
              "IsStart": false,
              "Properties": {
                "ActivityMetadata": {
                  "Title": "Handle User Registration"
                },
                "HttpMethod": "POST",
                "Url": "/comingsoon/Workflows/Invoke?token=CfDJ8DCCAYoU4epDsJeJ60Y60YgcG4YczxrePOg6Or4V8IYhoQG4U_BTeYtbtA6YK7WHnfN_Luro13hhXJOP9bBVECKR2vAxqf7WG7UELU66Rot4jySEcRhOxQboJATRETEnTsJbaCbQi7JJAfJf149fDNLy0HiJcvt2uR0rCnV2eoAHpSg0tHZ9WkLPnq574enyucSAzeL1uN63DjUB9BRidtH5PR_VA1PDXQjff-yar0PR",
                "ValidateAntiforgeryToken": true
              }
            },
            {
              "ActivityId": "4gq1ch13zvjb56rrng70w55cmz",
              "Name": "BindModelStateTask",
              "X": 300,
              "Y": 0,
              "IsStart": false,
              "Properties": {
                "ActivityMetadata": {
                  "Title": "Bind Form to Model State"
                }
              }
            },
            {
              "ActivityId": "4whqxbdn0d42524swmh49era4x",
              "Name": "ForkTask",
              "X": 660,
              "Y": 10,
              "IsStart": false,
              "Properties": {
                "ActivityMetadata": {
                  "Title": "Validate Form Fields"
                },
                "Forks": [
                  "Validate Email",
                  "Validate NoCaptcha"
                ]
              }
            },
            {
              "ActivityId": "4rrw4wj985j05sns4h4m35vk53",
              "Name": "ValidateFormFieldTask",
              "X": 370,
              "Y": 90,
              "IsStart": false,
              "Properties": {
                "FieldName": "Email",
                "ErrorMessage": "this is not a valid email",
                "ActivityMetadata": {
                  "Title": "Validate Email"
                }
              }
            },
            {
              "ActivityId": "45gqn0c34pnzv0e0z5anc3dpmk",
              "Name": "ValidateNoCaptchaTask",
              "X": 1090,
              "Y": 90,
              "IsStart": false,
              "Properties": {
                "ActivityMetadata": {
                  "Title": null
                }
              }
            },
            {
              "ActivityId": "44sfg8spe6xfg67t4arp5wbedn",
              "Name": "JoinTask",
              "X": 610,
              "Y": 220,
              "IsStart": false,
              "Properties": {
                "ActivityMetadata": {
                  "Title": "Join Validated Form Fields"
                },
                "Mode": 0
              }
            },
            {
              "ActivityId": "4pa4dakwbjt3w401sz726yg0ce",
              "Name": "ValidateFormTask",
              "X": 760,
              "Y": 430,
              "IsStart": false,
              "Properties": {
                "ActivityMetadata": {
                  "Title": null
                }
              }
            },
            {
              "ActivityId": "4bgxznwjcwz63tnftf001984mv",
              "Name": "NotifyTask",
              "X": 440,
              "Y": 430,
              "IsStart": false,
              "Properties": {
                "ActivityMetadata": {
                  "Title": "Notify Error"
                },
                "NotificationType": 3,
                "Message": {
                  "Expression": "Could not register"
                }
              }
            },
            {
              "ActivityId": "4ta0ndnzj91gdybah5mbyk90dy",
              "Name": "NotifyTask",
              "X": 1080,
              "Y": 430,
              "IsStart": false,
              "Properties": {
                "ActivityMetadata": {
                  "Title": "Thank You"
                },
                "NotificationType": 0,
                "Message": {
                  "Expression": "Thank you."
                }
              }
            }
          ],
          "Transitions": [
            {
              "Id": 0,
              "SourceActivityId": "426zsv4abp93qv40cyqpkskpnc",
              "SourceOutcomeName": "Done",
              "DestinationActivityId": "4gq1ch13zvjb56rrng70w55cmz"
            },
            {
              "Id": 0,
              "SourceActivityId": "4gq1ch13zvjb56rrng70w55cmz",
              "SourceOutcomeName": "Done",
              "DestinationActivityId": "4whqxbdn0d42524swmh49era4x"
            },
            {
              "Id": 0,
              "SourceActivityId": "4whqxbdn0d42524swmh49era4x",
              "SourceOutcomeName": "Validate NoCaptcha",
              "DestinationActivityId": "45gqn0c34pnzv0e0z5anc3dpmk"
            },
            {
              "Id": 0,
              "SourceActivityId": "4whqxbdn0d42524swmh49era4x",
              "SourceOutcomeName": "Validate Email",
              "DestinationActivityId": "4rrw4wj985j05sns4h4m35vk53"
            },
            {
              "Id": 0,
              "SourceActivityId": "4rrw4wj985j05sns4h4m35vk53",
              "SourceOutcomeName": "Done",
              "DestinationActivityId": "44sfg8spe6xfg67t4arp5wbedn"
            },
            {
              "Id": 0,
              "SourceActivityId": "45gqn0c34pnzv0e0z5anc3dpmk",
              "SourceOutcomeName": "Done",
              "DestinationActivityId": "44sfg8spe6xfg67t4arp5wbedn"
            },
            {
              "Id": 0,
              "SourceActivityId": "44sfg8spe6xfg67t4arp5wbedn",
              "SourceOutcomeName": "Joined",
              "DestinationActivityId": "4pa4dakwbjt3w401sz726yg0ce"
            },
            {
              "Id": 0,
              "SourceActivityId": "4pa4dakwbjt3w401sz726yg0ce",
              "SourceOutcomeName": "Invalid",
              "DestinationActivityId": "4bgxznwjcwz63tnftf001984mv"
            },
            {
              "Id": 0,
              "SourceActivityId": "4pa4dakwbjt3w401sz726yg0ce",
              "SourceOutcomeName": "Valid",
              "DestinationActivityId": "4ta0ndnzj91gdybah5mbyk90dy"
            }
          ]
        }
      ]
    }
  ]
}