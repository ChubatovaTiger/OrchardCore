var darkThemeName="dark",lightThemeName="light",getTenantName=function(){return document.documentElement.getAttribute("data-tenant")||""},getStoredTheme=function(){return localStorage.getItem(getTenantName()+"-admintheme")},setStoredTheme=function(e){return localStorage.setItem(getTenantName()+"-admintheme",e)},isDarkMedia=function(){return window.matchMedia("(prefers-color-scheme: dark)").matches},getPreferredTheme=function(){var e=getStoredTheme();return e||(isDarkMedia()?darkThemeName:lightThemeName)},setTheme=function(e){"auto"===e?document.documentElement.setAttribute("data-bs-theme",isDarkMedia()?darkThemeName:lightThemeName):document.documentElement.setAttribute("data-bs-theme",e)},getAdminPreferenceKey=function(){return getTenantName()+"-adminPreferences"},getAdminPreferences=function(){return JSON.parse(localStorage.getItem(getAdminPreferenceKey()))},setAdminPreferences=function(e){var t=getAdminPreferenceKey();localStorage.setItem(t,JSON.stringify(e)),Cookies.set(t,JSON.stringify(e),{expires:360})},isCompactExplicit=!1,observer=new MutationObserver((function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e[t].addedNodes.length;a++)if("BODY"==e[t].addedNodes[a].tagName){var r=e[t].addedNodes[a],n=getAdminPreferences();n&&(isCompactExplicit=n.isCompactExplicit,null!=n&&1==n.leftSidebarCompact&&r.classList.add("left-sidebar-compact")),observer.disconnect()}}));observer.observe(document.documentElement,{childList:!0,subtree:!0});var themeObserver=new MutationObserver((function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e[t].addedNodes.length;a++)"BODY"==e[t].addedNodes[a].tagName&&(setTheme(getPreferredTheme()),themeObserver.disconnect())}));function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}themeObserver.observe(document.documentElement,{childList:!0,subtree:!0}),function(){"use strict";var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.querySelector("#bd-theme");if(a){var r=document.querySelector("#bd-theme-text"),n=document.querySelector(".theme-icon-active"),o=document.querySelector('[data-bs-theme-value="'.concat(e,'"]')),i=o.querySelector(".theme-icon");o.classList.add("active"),o.setAttribute("aria-pressed","true"),n.innerHTML=i.innerHTML;var s="".concat(r.textContent," (").concat(o.dataset.bsThemeValue,")");a.setAttribute("aria-label",s);for(var l=document.querySelectorAll('[data-bs-theme-value]:not([data-bs-theme-value="'.concat(e,'"])')),c=0;c<l.length;c++)l[c].classList.remove("active"),l[c].setAttribute("aria-pressed","false");t&&a.focus()}};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(){var e=getStoredTheme();e!==lightThemeName&&e!==darkThemeName&&setTheme(getPreferredTheme())})),window.addEventListener("DOMContentLoaded",(function(){e(getPreferredTheme()),document.querySelectorAll("[data-bs-theme-value]").forEach((function(t){t.addEventListener("click",(function(){var a=t.getAttribute("data-bs-theme-value");setStoredTheme(a),setTheme(a),e(a,!0)}))}))}))}();var _excluded=["callback"];function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){_defineProperty(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _defineProperty(e,t,a){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _objectWithoutProperties(e,t){if(null==e)return{};var a,r,n=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}function confirmDialog(e){var t=e.callback,a=_objectWithoutProperties(e,_excluded),r=$("#confirmRemoveModalMetadata").data(),n=$.extend({},r,a),o=n.title,i=n.message,s=n.okText,l=n.cancelText,c=n.okClass,d=n.cancelClass;$('<div id="confirmRemoveModal" class="modal" tabindex="-1" role="dialog">        <div class="modal-dialog modal-dialog-centered" role="document">            <div class="modal-content">                <div class="modal-header">                    <h5 class="modal-title">'+o+'</h5>                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                </div>                <div class="modal-body">                    <p>'+i+'</p>                </div>                <div class="modal-footer">                    <button id="modalOkButton" type="button" class="btn '+c+'">'+s+'</button>                    <button id="modalCancelButton" type="button" class="btn '+d+'" data-bs-dismiss="modal">'+l+"</button>                </div>            </div>        </div>    </div>").appendTo("body");var u=new bootstrap.Modal($("#confirmRemoveModal"),{backdrop:"static",keyboard:!1});u.show(),document.getElementById("confirmRemoveModal").addEventListener("hidden.bs.modal",(function(){document.getElementById("confirmRemoveModal").remove(),u.dispose()})),$("#modalOkButton").click((function(){t(!0),u.hide()})),$("#modalCancelButton").click((function(){t(!1),u.hide()}))}function getTechnicalName(e){var t,a="";if(!e||0==e.length)return"";for(e=removeDiacritics(e),i=0;i<e.length;i++)(isLetter(t=e[i])||isNumber(t)&&i>0)&&(a+=t);return a}function isLetter(e){return 1===e.length&&e.match(/[a-z]/i)}function isNumber(e){return 1===e.length&&e.match(/[0-9]/i)}document.addEventListener("DOMContentLoaded",(function(){document.body.classList.remove("preload")})),$((function(){$("body").on("click",'[data-url-af~="RemoveUrl"], a[itemprop~="RemoveUrl"]',(function(){var e=$(this);return 1==e.filter('a[itemprop~="UnsafeUrl"]').length&&console.warn("Please use data-url-af instead of itemprop attribute for confirm modals. Using itemprop will eventually become deprecated."),1==e.filter('[data-url-af~="UnsafeUrl"], a[itemprop~="UnsafeUrl"]').length||confirmDialog(_objectSpread(_objectSpread({},e.data()),{},{callback:function(t){if(t){var a=e.attr("href");if(null==a){var r=e.parents("form");r.append($('<input type="hidden" name="'+e.attr("name")+'" value="'+e.attr("value")+'" />')),r.submit()}else window.location=a}}})),!1}))})),$((function(){var e=$("input[name=__RequestVerificationToken]").first();e&&$("body").on("click",'a[data-url-af~="UnsafeUrl"], a[itemprop~="UnsafeUrl"]',(function(){var t=$(this);1==t.filter('a[itemprop~="UnsafeUrl"]').length&&console.warn("Please use data-url-af instead of itemprop attribute for confirm modals. Using itemprop will eventually become deprecated.");var a=t.attr("href").split("?"),r=$('<form action="'+a[0]+'" method="POST" />');if(r.append(e.clone()),a.length>1)for(var n=a[1].split("&"),o=0;o<n.length;o++){var i=n[o].split("=");r.append($('<input type="hidden" name="'+decodeURIComponent(i[0])+'" value="'+decodeURIComponent(i[1])+'" />'))}r.css({position:"absolute",left:"-9999em"}),$("body").append(r);var s=t.data("unsafe-url");return s&&s.length>0||1==t.filter('[data-url-af~="RemoveUrl"], a[itemprop~="RemoveUrl"]').length?(confirmDialog(_objectSpread(_objectSpread({},t.data()),{},{callback:function(e){e&&r.submit()}})),!1):(r.submit(),!1)}))})),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)})),$("body").on("submit","form.no-multisubmit",(function(e){var t="submitting";form=$(this),form.hasClass(t)?e.preventDefault():(form.addClass(t),setTimeout((function(){form.removeClass(t)}),5e3))})),$((function(){($("body").hasClass("left-sidebar-compact")||$("body").hasClass("no-admin-preferences")&&$(window).width()<768)&&setCompactStatus()})),$("span.title").each((function(){$(this).prev(".icon").prop("title",$(this).text())})),$(".leftbar-compactor").click((function(){$("body").hasClass("left-sidebar-compact")?unSetCompactStatus():setCompactStatus(!0)})),$("#left-nav li.has-items").click((function(){$("#left-nav li.has-items").removeClass("visible"),$(this).addClass("visible")})),$(document).on("click",(function(e){var t=$("#left-nav li.has-items");t===e.target||t.has(e.target).length||$("#left-nav li.has-items").removeClass("visible")}));var subMenuArray=new Array;function setCompactStatus(e){if(!$("body").hasClass("left-sidebar-compact")){var t=$("#left-nav ul.menu-admin > li > figure > figcaption > .item-label");t.css("background-color","transparent"),setTimeout((function(){t.css("background-color","")}),200)}$("body").addClass("left-sidebar-compact"),$("#left-nav ul.menu-admin > li > figure > ul").removeClass("collapse"),$("#left-nav ul.menu-admin > li > figure > figcaption > a").attr("data-bs-toggle",""),$("#left-nav li.has-items").removeClass("visible"),setTimeout((function(){$("#left-nav > ul > li").css("transition","none")}),200),1==e&&(isCompactExplicit=!0),persistAdminPreferences()}function unSetCompactStatus(){$("body").removeClass("left-sidebar-compact"),$("#left-nav ul.menu-admin > li > figure > ul").addClass("collapse"),$("#left-nav ul.menu-admin > li > figure > figcaption a").attr("data-bs-toggle","collapse"),$("#left-nav li.has-items").removeClass("visible"),$("#left-nav > ul > li").css("transition",""),isCompactExplicit=!1,persistAdminPreferences()}var leftNav=document.getElementById("left-nav"),resizeObserver=new ResizeObserver((function(e){isCompactExplicit&&leftNav.scrollHeight>leftNav.clientHeight?document.body.classList.add("scroll"):document.body.classList.remove("scroll")}));null!=leftNav&&resizeObserver.observe(leftNav);for(var defaultDiacriticsRemovalMap=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],diacriticsMap={},i=0;i<defaultDiacriticsRemovalMap.length;i++)for(var letters=defaultDiacriticsRemovalMap[i].letters,j=0;j<letters.length;j++)diacriticsMap[letters[j]]=defaultDiacriticsRemovalMap[i].base;function removeDiacritics(e){return e.replace(/[^\u0000-\u007E]/g,(function(e){return diacriticsMap[e]||e}))}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */}function persistAdminPreferences(){setTimeout((function(){var e={};e.leftSidebarCompact=!!document.body.classList.contains("left-sidebar-compact"),e.isCompactExplicit=isCompactExplicit,setAdminPreferences(e)}),200)}!function(){var e="",t="",a=!1,r=document.body.clientWidth;window.addEventListener("resize",(function(){var n=document.body.clientWidth,o=n<r?"reducing":"increasing";o!==e&&(a=!1),0==a&&o!=t&&("reducing"==o&&n<768&&(setCompactStatus(),t=o,a=!0),"increasing"==o&&n>768&&(0==isCompactExplicit&&unSetCompactStatus(),t=o,a=!0)),e=o,r=n}))}(),function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&void 0!==module.exports?module.exports=e():"undefined"!=typeof Package?Sortable=e():window.Sortable=e()}((function(){"use strict";if("undefined"==typeof window||void 0===window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,a,r,n,o,i,s,l,c,d,u,f,m,p,h,b,g,v={},y=/\s+/g,_="Sortable"+(new Date).getTime(),S=window,D=S.document,w=S.parseInt,C=!!("draggable"in D.createElement("div")),T=((g=D.createElement("x")).style.cssText="pointer-events:auto","auto"===g.style.pointerEvents),E=!1,O=Math.abs,N=[],x=H((function(e,t,a){if(a&&t.scroll){var r,n,o,l,c=t.scrollSensitivity,d=t.scrollSpeed,u=e.clientX,f=e.clientY,m=window.innerWidth,p=window.innerHeight;if(s!==a&&(i=t.scroll,s=a,!0===i)){i=a;do{if(i.offsetWidth<i.scrollWidth||i.offsetHeight<i.scrollHeight)break}while(i=i.parentNode)}i&&(r=i,n=i.getBoundingClientRect(),o=(O(n.right-u)<=c)-(O(n.left-u)<=c),l=(O(n.bottom-f)<=c)-(O(n.top-f)<=c)),o||l||(l=(p-f<=c)-(f<=c),((o=(m-u<=c)-(u<=c))||l)&&(r=S)),v.vx===o&&v.vy===l&&v.el===r||(v.el=r,v.vx=o,v.vy=l,clearInterval(v.pid),r&&(v.pid=setInterval((function(){r===S?S.scrollTo(S.pageXOffset+o*d,S.pageYOffset+l*d):(l&&(r.scrollTop+=l*d),o&&(r.scrollLeft+=o*d))}),24)))}}),30),P=function(e){var t=e.group;t&&"object"==_typeof(t)||(t=e.group={name:t}),["pull","put"].forEach((function(e){e in t||(t[e]=!0)})),e.groups=" "+t.name+(t.put.join?" "+t.put.join(" "):"")+" "};function k(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=K({},t),e[_]=this;var a={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var r in a)!(r in t)&&(t[r]=a[r]);for(var n in P(t),this)"_"===n.charAt(0)&&(this[n]=this[n].bind(this));this.nativeDraggable=!t.forceFallback&&C,j(e,"mousedown",this._onTapStart),j(e,"touchstart",this._onTapStart),this.nativeDraggable&&(j(e,"dragover",this),j(e,"dragenter",this)),N.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function $(t){r&&r.state!==t&&(R(r,"display",t?"none":""),!t&&r.state&&n.insertBefore(r,e),r.state=t)}function A(e,t,a){if(e){a=a||D;do{if(">*"===t&&e.parentNode===a||z(e,t))return e}while(e!==a&&(e=e.parentNode))}return null}function j(e,t,a){e.addEventListener(t,a,!1)}function M(e,t,a){e.removeEventListener(t,a,!1)}function L(e,t,a){if(e)if(e.classList)e.classList[a?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(y," ").replace(" "+t+" "," ");e.className=(r+(a?" "+t:"")).replace(y," ")}}function R(e,t,a){var r=e&&e.style;if(r){if(void 0===a)return D.defaultView&&D.defaultView.getComputedStyle?a=D.defaultView.getComputedStyle(e,""):e.currentStyle&&(a=e.currentStyle),void 0===t?a:a[t];t in r||(t="-webkit-"+t),r[t]=a+("string"==typeof a?"":"px")}}function B(e,t,a){if(e){var r=e.getElementsByTagName(t),n=0,o=r.length;if(a)for(;n<o;n++)a(r[n],n);return r}return[]}function U(e,t,a,n,o,i,s){var l=D.createEvent("Event"),c=(e||t[_]).options,d="on"+a.charAt(0).toUpperCase()+a.substr(1);l.initEvent(a,!0,!0),l.to=t,l.from=o||t,l.item=n||t,l.clone=r,l.oldIndex=i,l.newIndex=s,t.dispatchEvent(l),c[d]&&c[d].call(e,l)}function I(e,t,a,r,n,o){var i,s,l=e[_],c=l.options.onMove;return(i=D.createEvent("Event")).initEvent("move",!0,!0),i.to=t,i.from=e,i.dragged=a,i.draggedRect=r,i.related=n||t,i.relatedRect=o||t.getBoundingClientRect(),e.dispatchEvent(i),c&&(s=c.call(l,i)),s}function Y(e){e.draggable=!1}function X(){E=!1}function W(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,a=t.length,r=0;a--;)r+=t.charCodeAt(a);return r.toString(36)}function q(e,t){var a=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&z(e,t)&&a++;return a}function z(e,t){if(e){var a=(t=t.split(".")).shift().toUpperCase(),r=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==a&&e.nodeName.toUpperCase()!=a||t.length&&((" "+e.className+" ").match(r)||[]).length!=t.length)}return!1}function H(e,t){var a,r;return function(){void 0===a&&(a=arguments,r=this,setTimeout((function(){1===a.length?e.call(r,a[0]):e.apply(r,a),a=void 0}),t))}}function K(e,t){if(e&&t)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}return k.prototype={constructor:k,_onTapStart:function(e){var t=this,a=this.el,r=this.options,n=e.type,o=e.touches&&e.touches[0],i=(o||e).target,s=i,l=r.filter;if(!("mousedown"===n&&0!==e.button||r.disabled)&&(i=A(i,r.draggable,a))){if(u=q(i,r.draggable),"function"==typeof l){if(l.call(this,e,i,this))return U(t,s,"filter",i,a,u),void e.preventDefault()}else if(l&&(l=l.split(",").some((function(e){if(e=A(s,e.trim(),a))return U(t,e,"filter",i,a,u),!0}))))return void e.preventDefault();r.handle&&!A(s,r.handle,a)||this._prepareDragStart(e,o,i)}},_prepareDragStart:function(a,r,i){var s,l=this,c=l.el,d=l.options,u=c.ownerDocument;i&&!e&&i.parentNode===c&&(p=a,n=c,t=(e=i).parentNode,o=e.nextSibling,m=d.group,s=function(){l._disableDelayedDrag(),e.draggable=!0,L(e,l.options.chosenClass,!0),l._triggerDragStart(r)},d.ignore.split(",").forEach((function(t){B(e,t.trim(),Y)})),j(u,"mouseup",l._onDrop),j(u,"touchend",l._onDrop),j(u,"touchcancel",l._onDrop),d.delay?(j(u,"mouseup",l._disableDelayedDrag),j(u,"touchend",l._disableDelayedDrag),j(u,"touchcancel",l._disableDelayedDrag),j(u,"mousemove",l._disableDelayedDrag),j(u,"touchmove",l._disableDelayedDrag),l._dragStartTimer=setTimeout(s,d.delay)):s())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),M(e,"mouseup",this._disableDelayedDrag),M(e,"touchend",this._disableDelayedDrag),M(e,"touchcancel",this._disableDelayedDrag),M(e,"mousemove",this._disableDelayedDrag),M(e,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(t){t?(p={target:e,clientX:t.clientX,clientY:t.clientY},this._onDragStart(p,"touch")):this.nativeDraggable?(j(e,"dragend",this),j(n,"dragstart",this._onDragStart)):this._onDragStart(p,!0);try{D.selection?setTimeout((function(){D.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){n&&e&&(L(e,this.options.ghostClass,!0),k.active=this,U(this,n,"start",e,n,u))},_emulateDragOver:function(){if(h){if(this._lastX===h.clientX&&this._lastY===h.clientY)return;this._lastX=h.clientX,this._lastY=h.clientY,T||R(a,"display","none");var e=D.elementFromPoint(h.clientX,h.clientY),t=e,r=" "+this.options.group.name,n=N.length;if(t)do{if(t[_]&&t[_].options.groups.indexOf(r)>-1){for(;n--;)N[n]({clientX:h.clientX,clientY:h.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);T||R(a,"display","")}},_onTouchMove:function(e){if(p){k.active||this._dragStarted(),this._appendGhost();var t=e.touches?e.touches[0]:e,r=t.clientX-p.clientX,n=t.clientY-p.clientY,o=e.touches?"translate3d("+r+"px,"+n+"px,0)":"translate("+r+"px,"+n+"px)";b=!0,h=t,R(a,"webkitTransform",o),R(a,"mozTransform",o),R(a,"msTransform",o),R(a,"transform",o),e.preventDefault()}},_appendGhost:function(){if(!a){var t,r=e.getBoundingClientRect(),o=R(e),i=this.options;L(a=e.cloneNode(!0),i.ghostClass,!1),L(a,i.fallbackClass,!0),R(a,"top",r.top-w(o.marginTop,10)),R(a,"left",r.left-w(o.marginLeft,10)),R(a,"width",r.width),R(a,"height",r.height),R(a,"opacity","0.8"),R(a,"position","fixed"),R(a,"zIndex","100000"),R(a,"pointerEvents","none"),i.fallbackOnBody&&D.body.appendChild(a)||n.appendChild(a),t=a.getBoundingClientRect(),R(a,"width",2*r.width-t.width),R(a,"height",2*r.height-t.height)}},_onDragStart:function(t,a){var o=t.dataTransfer,i=this.options;this._offUpEvents(),"clone"==m.pull&&(R(r=e.cloneNode(!0),"display","none"),n.insertBefore(r,e)),a?("touch"===a?(j(D,"touchmove",this._onTouchMove),j(D,"touchend",this._onDrop),j(D,"touchcancel",this._onDrop)):(j(D,"mousemove",this._onTouchMove),j(D,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(o&&(o.effectAllowed="move",i.setData&&i.setData.call(this,o,e)),j(D,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(i){var s,u,f,p=this.el,h=this.options,g=h.group,v=g.put,y=m===g,S=h.sort;if(void 0!==i.preventDefault&&(i.preventDefault(),!h.dragoverBubble&&i.stopPropagation()),b=!0,m&&!h.disabled&&(y?S||(f=!n.contains(e)):m.pull&&v&&(m.name===g.name||v.indexOf&&~v.indexOf(m.name)))&&(void 0===i.rootEl||i.rootEl===this.el)){if(x(i,h,this.el),E)return;if(s=A(i.target,h.draggable,p),u=e.getBoundingClientRect(),f)return $(!0),void(r||o?n.insertBefore(e,r||o):S||n.appendChild(e));if(0===p.children.length||p.children[0]===a||p===i.target&&(s=function(e,t){var a=e.lastElementChild,r=a.getBoundingClientRect();return(t.clientY-(r.top+r.height)>5||t.clientX-(r.right+r.width)>5)&&a}(p,i))){if(s){if(s.animated)return;w=s.getBoundingClientRect()}$(y),!1!==I(n,p,e,u,s,w)&&(e.contains(p)||(p.appendChild(e),t=p),this._animate(u,e),s&&this._animate(w,s))}else if(s&&!s.animated&&s!==e&&void 0!==s.parentNode[_]){l!==s&&(l=s,c=R(s),d=R(s.parentNode));var D,w=s.getBoundingClientRect(),C=w.right-w.left,T=w.bottom-w.top,O=/left|right|inline/.test(c.cssFloat+c.display)||"flex"==d.display&&0===d["flex-direction"].indexOf("row"),N=s.offsetWidth>e.offsetWidth,P=s.offsetHeight>e.offsetHeight,k=(O?(i.clientX-w.left)/C:(i.clientY-w.top)/T)>.5,j=s.nextElementSibling,M=I(n,p,e,u,s,w);if(!1!==M){if(E=!0,setTimeout(X,30),$(y),1===M||-1===M)D=1===M;else if(O){var L=e.offsetTop,B=s.offsetTop;D=L===B?s.previousElementSibling===e&&!N||k&&N:B>L}else D=j!==e&&!P||k&&P;e.contains(p)||(D&&!j?p.appendChild(e):s.parentNode.insertBefore(e,D?j:s)),t=e.parentNode,this._animate(u,e),this._animate(w,s)}}}},_animate:function(e,t){var a=this.options.animation;if(a){var r=t.getBoundingClientRect();R(t,"transition","none"),R(t,"transform","translate3d("+(e.left-r.left)+"px,"+(e.top-r.top)+"px,0)"),t.offsetWidth,R(t,"transition","all "+a+"ms"),R(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout((function(){R(t,"transition",""),R(t,"transform",""),t.animated=!1}),a)}},_offUpEvents:function(){var e=this.el.ownerDocument;M(D,"touchmove",this._onTouchMove),M(e,"mouseup",this._onDrop),M(e,"touchend",this._onDrop),M(e,"touchcancel",this._onDrop)},_onDrop:function(i){var s=this.el,l=this.options;clearInterval(this._loopId),clearInterval(v.pid),clearTimeout(this._dragStartTimer),M(D,"mousemove",this._onTouchMove),this.nativeDraggable&&(M(D,"drop",this),M(s,"dragstart",this._onDragStart)),this._offUpEvents(),i&&(b&&(i.preventDefault(),!l.dropBubble&&i.stopPropagation()),a&&a.parentNode.removeChild(a),e&&(this.nativeDraggable&&M(e,"dragend",this),Y(e),L(e,this.options.ghostClass,!1),L(e,this.options.chosenClass,!1),n!==t?(f=q(e,l.draggable))>=0&&(U(null,t,"sort",e,n,u,f),U(this,n,"sort",e,n,u,f),U(null,t,"add",e,n,u,f),U(this,n,"remove",e,n,u,f)):(r&&r.parentNode.removeChild(r),e.nextSibling!==o&&(f=q(e,l.draggable))>=0&&(U(this,n,"update",e,n,u,f),U(this,n,"sort",e,n,u,f))),k.active&&(null!=f&&-1!==f||(f=u),U(this,n,"end",e,n,u,f),this.save()))),this._nulling()},_nulling:function(){k.active===this&&(n=e=t=a=o=r=i=s=p=h=b=f=l=c=m=k.active=null)},handleEvent:function(t){var a=t.type;"dragover"===a||"dragenter"===a?e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.preventDefault()}(t)):"drop"!==a&&"dragend"!==a||this._onDrop(t)},toArray:function(){for(var e,t=[],a=this.el.children,r=0,n=a.length,o=this.options;r<n;r++)A(e=a[r],o.draggable,this.el)&&t.push(e.getAttribute(o.dataIdAttr)||W(e));return t},sort:function(e){var t={},a=this.el;this.toArray().forEach((function(e,r){var n=a.children[r];A(n,this.options.draggable,a)&&(t[e]=n)}),this),e.forEach((function(e){t[e]&&(a.removeChild(t[e]),a.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return A(e,t||this.options.draggable,this.el)},option:function(e,t){var a=this.options;if(void 0===t)return a[e];a[e]=t,"group"===e&&P(a)},destroy:function(){var e=this.el;e[_]=null,M(e,"mousedown",this._onTapStart),M(e,"touchstart",this._onTapStart),this.nativeDraggable&&(M(e,"dragover",this),M(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),N.splice(N.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},k.utils={on:j,off:M,css:R,find:B,is:function(e,t){return!!A(e,t,e)},extend:K,throttle:H,closest:A,toggleClass:L,index:q},k.create=function(e,t){return new k(e,t)},k.version="1.4.2",k}));
