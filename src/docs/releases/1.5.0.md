# Orchard Core 1.5.0

## Breaking Changes

* The `OrchardCore_Media_AmazonS3` config section was changed: `RegionEndpoint` was renamed to `Region` and extracted from `Credentials` section to the root section of `OrchardCore_Media_AmazonS3`, `AccessKeyId` was renamed to `AccessKey`, `ProfileName` was renamed to `Profile`. See [this pull request](https://github.com/OrchardCMS/OrchardCore/pull/11871) for details.

* Lucene breaking changes. See [this pull request](https://github.com/OrchardCMS/OrchardCore/pull/11052) for details.

## Lucene Migration

Manual migration to apply to get back Lucene Indices Settings and Queries.

```sql
  UPDATE Document SET Content = REPLACE(content, '"$type":"OrchardCore.Lucene.LuceneQuery, OrchardCore.Lucene"', '"$type":"OrchardCore.Search.Lucene.LuceneQuery, OrchardCore.Search.Lucene"')
  WHERE  [Type] = 'OrchardCore.Queries.Services.QueriesDocument, OrchardCore.Queries'

  UPDATE Document SET [Type] = 'OrchardCore.Search.Lucene.Model.LuceneIndexSettingsDocument, OrchardCore.Search.Lucene'
  WHERE [Type] = 'OrchardCore.Lucene.Model.LuceneIndexSettingsDocument, OrchardCore.Lucene'
```

## Lucene Breaking Changes

### IndexingConstants changes : 

DisplayTextAnalyzedKey = "Content.ContentItem.DisplayText_Analyzed" instead of "Content.ContentItem.DisplayText.Analyzed"

DisplayTextNormalizedKey = "Content.ContentItem.DisplayText_Normalized" instead of "Content.ContentItem.DisplayText.Normalized"

ContentType will now be searchable with a Term query by using "Content.ContentItem.ContentType.keyword"

### Taxonomies module indexing

".Inherited" = "_Inherited"

### Queries migration

Elasticsearch maps automatically the data which means that Text fields will always be Analyzed. You can now access the "Stored" value of that Text field by using ".keyword" as a suffix to your field name. This means that you can now use a TermQuery on that ".keyword" field and a MatchQuery on the basic field name. See [Elasticsearch vs Lucene](../reference/modules/Elasticsearch/README.md#elasticsearch-vs-lucene)

### Permissions

ManageIndexes will be now ManageLuceneIndexes