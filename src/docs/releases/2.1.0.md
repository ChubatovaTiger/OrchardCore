# Orchard Core 2.1.0

Release date: Not yet released

## Change Logs

### External User Authentication Feature

A new feature, **External User Authentication**, has been added. This feature was separated from the existing **Users** feature to provide better dependency management and offer an option to disable external authentication by default.

After upgrading the site, a fast-forward option allows you to enable this feature automatically when needed. No action is needed, everything will be migrated automatically.

As a result, the following settings have been relocated to new classes:

- The properties `UseScriptToSyncRoles` and `SyncRolesScript` have been moved from `LoginSettings` to a new class, `ExternalUserRoleLoginSettings`.
- The property `UseExternalProviderIfOnlyOneDefined` has been moved from `LoginSettings` to `ExternalUserLoginSettings`.

Additionally, the following properties have been moved from `RegistrationSettings` to `ExternalAuthenticationSettings`:

- `NoPasswordForExternalUsers` is now `ExternalAuthenticationSettings.NoPassword`.
- `NoUsernameForExternalUsers` is now `ExternalAuthenticationSettings.NoUsername`.
- `NoEmailForExternalUsers` is now `ExternalAuthenticationSettings.NoEmail`.
- `UseScriptToGenerateUsername` is now `ExternalAuthenticationSettings.UseScriptToGenerateUsername`.
- `GenerateUsernameScript` is now `ExternalAuthenticationSettings.GenerateUsernameScript`.

The `UsersCanRegister` property in the `RegistrationSettings` class has been marked obsolete, and a new property, `AllowSiteRegistration`, has been introduced. To enable site registration, set `AllowSiteRegistration` to `true`. For external registration, ensure the **External User Authentication** feature is enabled.

!!! note
    When configuring `LoginSettings` or `RegistrationSettings` in a recipe, ensure that the recipe's properties are updated to reflect the new settings classes.

!!! note
    When the **External User Authentication** feature is enabled, the `/Register` endpoint will always become available.

### New 'Azure Communication SMS' feature

A new feature was added to allow you to send SMS messages using Azure Communication Services (ACS). Simply enable it then navigate to the admin dashboard > `Configurations` >> `Settings` >> `SMS` to configure the provider. For more information you can refer to the [docs](../reference/modules/Sms.Azure/README.md).
