@model OrchardCore.Media.ViewModels.DisplayMediaFieldViewModel
@using OrchardCore.ContentManagement.Metadata.Models
@using OrchardCore.Mvc.Utilities
@using OrchardCore.Media
@{
    var paths = Model.Paths ?? Array.Empty<string>();
    var mediaTexts = Model.Field?.MediaTexts ?? Array.Empty<string>();
    var name = (Model.PartFieldDefinition.PartDefinition.Name + "-" + Model.PartFieldDefinition.Name).HtmlClassify();
}
@if (paths.Any())
{
    <div class="form-group row field-type-mediafield field-name-@name">
        <label class="col-xl-2">@Model.PartFieldDefinition.DisplayName()</label>
        <div class="col-xl-10">
            @for (int i = 0; i < paths.Count(); i++)
            {
                var path = paths[i];
                var url = Orchard.AssetUrl(path);
                var text = !string.IsNullOrEmpty(mediaTexts[i]) ? mediaTexts[i] : path;
                var extension = System.IO.Path.GetExtension(path);

                if (Orchard.IsImageExtension(extension))
                {
                    <div class="card text-light">
                        <img class="card-img" src="@url" alt="@text">
                        <div class="card-img-overlay">
                            <h5 class="card-title">@text</h5>
                        </div>
                    </div>
                }
                else
                {
                    <a href="@url">@text</a>
                }
            }
        </div>
    </div>
}
