@model OrchardCore.Media.ViewModels.DisplayMediaFieldViewModel
@using OrchardCore.ContentManagement.Metadata.Models
@using OrchardCore.Mvc.Utilities
@{
    var paths = Model.Paths ?? Array.Empty<string>();
    var mediaTexts = Model.Field?.MediaTexts ?? Array.Empty<string>();
    var name = (Model.PartFieldDefinition.PartDefinition.Name + "-" + Model.PartFieldDefinition.Name).HtmlClassify();
}
@if (paths.Any())
{
    <div class="field field-type-mediafield field-name-@name">
        @for (int i = 0; i < paths.Count(); i++)
        {
            var path = paths[i];
            var url = Orchard.AssetUrl(path);
            var text = !string.IsNullOrEmpty(mediaTexts[i]) ? mediaTexts[i] : path;

            if (Orchard.IsImageExtension(path))
            {
                <div class="card text-light">
                    <img class="card-img" src="@url" alt="@text">
                    <div class="card-img-overlay">
                        <h5 class="card-title">@text</h5>
                    </div>
                </div>
            }
            else
            {
                <a href="@url">@text</a>
            }
        }
    </div>
}
