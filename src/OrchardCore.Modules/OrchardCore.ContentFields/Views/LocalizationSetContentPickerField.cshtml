@model OrchardCore.ContentFields.ViewModels.DisplayLocalizationSetContentPickerFieldViewModel
@using OrchardCore.Mvc.Utilities
@using OrchardCore.ContentManagement.Metadata.Models
@using Microsoft.AspNetCore.Localization

@inject OrchardCore.ContentLocalization.IContentLocalizationManager ContentLocalizationManager;

@{
    var name = (Model.PartFieldDefinition.PartDefinition.Name + "-" + Model.PartFieldDefinition.Name).HtmlClassify();
    var currentCulture = Context.Features.Get<IRequestCultureFeature>().RequestCulture.Culture.Name;
    var contentItems = await ContentLocalizationManager.GetItemsForSetsAsync(Model.LocalizationSets, currentCulture);
}

    @if (contentItems.Any())
    {
    <div class="form-group row field-type-localizationsetpickerfield field-name-@name">
        <label class="col-xl-2">@Model.PartFieldDefinition.DisplayName()</label>
        <div class="col-xl-10">
        @foreach (var contentItem in contentItems)
        {
            <a display-for="@contentItem">@contentItem.DisplayText</a>
            if (contentItem != contentItems.Last())
            {
                @T[", "]
            }
        }
        </div>
    </div>
}